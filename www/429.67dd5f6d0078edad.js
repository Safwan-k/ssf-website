"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[429],{429:(v,p,s)=>{s.r(p),s.d(p,{PartAExamPage:()=>Q});var I=s(5861),h=s(6895),i=s(433),o=s(6114),k=s(529),t=s(8256),A=s(1407);function f(n,u){if(1&n&&(t.TgZ(0,"ion-item",10)(1,"ion-radio",11),t._uU(2),t.qZA()()),2&n){const e=u.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function q(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",5)(1,"div",6)(2,"ion-label",7),t._uU(3),t.qZA(),t.TgZ(4,"ion-radio-group",8),t.NdJ("ionChange",function(a){const _=t.CHM(e),l=_.index,m=_.$implicit,d=t.oxw();return t.KtG(d.onRadioChange(a,l,m))}),t.YNc(5,f,3,2,"ion-item",9),t.qZA()()()}if(2&n){const e=u.$implicit;t.xp6(3),t.Oqu(e.Question),t.xp6(1),t.s9C("formControlName",e.question_id),t.xp6(1),t.Q6J("ngForOf",e.choices)}}let Q=(()=>{class n{constructor(e,r,a,_){this.http=e,this.formBuilder=r,this.route=a,this.activateRoute=_,this.questions=[],this.check=!1,this.questionForms=[],this.checkQuestionFormHasDemoVal=!1,this.marksheet_final=[],this.grouped_data={},this.choices_mark={"\u0d2a\u0d42\u0d7c\u0d23\u0d4d\u0d23\u0d2e\u0d3e\u0d2f\u0d3f \u0d35\u0d3f\u0d2f\u0d4b\u0d1c\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d41":1,"\u0d2d\u0d3e\u0d17\u0d3f\u0d15\u0d2e\u0d3e\u0d2f\u0d3f \u0d35\u0d3f\u0d2f\u0d4b\u0d1c\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d41":2,"\u0d2d\u0d3e\u0d17\u0d3f\u0d15\u0d2e\u0d3e\u0d2f\u0d3f \u0d38\u0d2e\u0d4d\u0d2e\u0d24\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d41":3,"\u0d2a\u0d42\u0d7c\u0d23\u0d4d\u0d23\u0d2e\u0d3e\u0d2f\u0d3f \u0d38\u0d2e\u0d4d\u0d2e\u0d24\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d41":4},this.student_id=this.activateRoute.snapshot.paramMap.get("student_id")}ngOnInit(){this.examForm=this.formBuilder.group({QALI1:["",i.kI.required],QALI2:["",i.kI.required],QALI3:["",i.kI.required],QALI4:["",i.kI.required],QALI5:["",i.kI.required],QALO1:["",i.kI.required],QALO2:["",i.kI.required],QALO3:["",i.kI.required],QALO4:["",i.kI.required],QALO5:["",i.kI.required],QAMU1:["",i.kI.required],QAMU2:["",i.kI.required],QAMU3:["",i.kI.required],QAMU4:["",i.kI.required],QAMU5:["",i.kI.required],QABK1:["",i.kI.required],QABK2:["",i.kI.required],QABK3:["",i.kI.required],QABK4:["",i.kI.required],QABK5:["",i.kI.required],QASP1:["",i.kI.required],QASP2:["",i.kI.required],QASP3:["",i.kI.required],QASP4:["",i.kI.required],QASP5:["",i.kI.required],QAIE1:["",i.kI.required],QAIE2:["",i.kI.required],QAIE3:["",i.kI.required],QAIE4:["",i.kI.required],QAIE5:["",i.kI.required],QAIA1:["",i.kI.required],QAIA2:["",i.kI.required],QAIA3:["",i.kI.required],QAIA4:["",i.kI.required],QAIA5:["",i.kI.required]}),this.http.get("http://34.100.168.105/api/api/json?file=part-a").subscribe(e=>{this.questions=e,console.log(e),this.check=!0,this.checkQuestionFormHasDemoVal||this.checkQuestionForm()})}onRadioChange(e,r,a){this.questionForms.splice(r,1,{question_id:a.question_id,group:a.group,value:e.detail.value,mark:this.choices_mark[e.detail.value]})}checkQuestionForm(){this.checkQuestionFormHasDemoVal=!0;for(let e=0;e<this.questions.length;e++)this.questionForms.push({question_id:this.questions[e].question_id,group:this.questions[e].group})}submitForm(){var e=this;return(0,I.Z)(function*(){try{if(e.examForm.valid){e.questionForms.forEach(({mark:c,group:g})=>{e.grouped_data[g]||(e.grouped_data[g]=[]),e.grouped_data[g].push(c)}),e.grouped_data=JSON.parse(JSON.stringify(e.grouped_data));const r={groups:[e.grouped_data]};console.log(r);let a=e.total_mark_of_an_array(r.groups[0].Logical),_=e.total_mark_of_an_array(r.groups[0].BodilyKinesthetic),l=e.total_mark_of_an_array(r.groups[0].Musical),m=e.total_mark_of_an_array(r.groups[0].Linguistic),d=e.total_mark_of_an_array(r.groups[0].Spacial),P=e.total_mark_of_an_array(r.groups[0].Interpersonal),E=e.total_mark_of_an_array(r.groups[0].Intrapersonal);e.http.post("http://34.100.168.105/api/api/question?part=a",{student_id:e.student_id,linguistic:m,logistics:a,musical:l,bodily_kinesthetic:_,spacial:d,interpersonal:P,intrapersonal:E}).subscribe(c=>{console.log(c)}),yield e.route.navigate(["/part-b-exam",e.student_id])}else console.log("this is valid")}catch(r){console.log(r)}})()}total_mark_of_an_array(e){let r=0;for(let a=0;a<e.length;a++)r+=e[a];return r/20*100}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.eN),t.Y36(i.qu),t.Y36(A.F0),t.Y36(A.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-part-a-exam"]],standalone:!0,features:[t.jDz],decls:9,vars:3,consts:[[3,"formGroup"],[2,"margin-top","24px","margin-left","31px"],[2,"font-size","24px","font-weight","500"],["class","ion-margin-vertical",4,"ngFor","ngForOf"],["type","submit","expand","block",1,"ion-margin-vertical","ion-margin-horizontal",3,"disabled","click"],[1,"ion-margin-vertical"],[2,"width","100%"],[1,"ion-margin-vertical","ion-margin-horizontal","ion-text-wrap"],[1,"ion-padding",3,"formControlName","ionChange"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["mode","md",3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-content")(1,"form",0)(2,"div",1)(3,"ion-text",2),t._uU(4,"Part A"),t.qZA()(),t.TgZ(5,"ion-list"),t.YNc(6,q,6,3,"ion-item",3),t.qZA(),t.TgZ(7,"ion-button",4),t.NdJ("click",function(){return r.submitForm()}),t._uU(8,"Submit"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",r.examForm),t.xp6(5),t.Q6J("ngForOf",r.questions),t.xp6(1),t.Q6J("disabled",!r.examForm.valid))},dependencies:[o.Pc,o.YG,o.W2,o.Ie,o.Q$,o.q_,o.B7,o.se,o.yW,o.U5,o.QI,h.ez,h.sg,i.u5,i._Y,i.JJ,i.JL,k.JF,i.UX,i.sg,i.u]}),n})()}}]);